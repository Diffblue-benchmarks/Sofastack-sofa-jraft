buildCmd: mvn -e -X -Dmaven.test.skip=true compile
testCmd: true
lineLength: 4096
skipVerification: true
cbmcArguments:
  # Do not generate coverage comments on generated tests.
  java-generate-no-comments: true
phases:
  -
  #Phase 0 PRETTY AND SIMPLE - Simple models, quick cover, pretty Tests, Do Not Test Private Method Directly
    timeout: 180
    cbmcArguments:
      # Use simple models containers (ArrayList, HashMap, HashSet,...) will have a maximum size of one.
      classpath: '/tools/cbmc/models-simple-overlay.jar:/tools/cbmc/models.jar:.'
      # Set a limit on the number of instructions that can be generated as part of a test trace.
      depth: 1500
      # never initialize reference-typed parameter to the entry point with null
      java-assume-inputs-non-null: true
      # Constrain the size of arrays created in the analyzed code.
      java-max-vla-length: 10000
      # Maximum allowed length for an array passed as test input.
      max-nondet-array-length: 10
      # Bound the length of input strings.
      max-nondet-string-length: 10
      # Add constraint that strings are printable
      string-printable: true
      # Make implicit runtime exceptions explicit.
      throw-runtime-exceptions: false
      # Set an upper bound on loop unwinding.
      unwind: 1
      # Do not test any methods that have the specified access level.
      do-not-test-methods-with-access: [ private ]
      # Instrument the entry point function only.
      cover-function-only: false
      # Instrument the file as opposed to the function only
      cover-only: file
      # Set string input value  
      string-input-value: ["foo", "Bar", "BAZ", "1234", "a,b,c", "1", "2", "3", "a/b/c", "a'b'c"]
  -
  #Phase 1 PRETTY AND COMPLEX - Standard models, longer run time, pretty tests, Do Not Test Private Method Directly
    timeout: 180
    cbmcArguments:
      # Use the standard models library
      classpath: '/tools/cbmc/models.jar:.'
      # Set a limit on the number of instructions that can be generated as part of a test trace.
      depth: false
      # never initialize reference-typed parameter to the entry point with null
      java-assume-inputs-non-null: false
      # Constrain the size of arrays created in the analyzed code.
      java-max-vla-length: 10000
      # Maximum allowed length for an array passed as test input.
      max-nondet-array-length: 10
      # Bound the length of input strings.
      max-nondet-string-length: 10
      # Add constraint that strings are printable
      string-printable: true
      # Set string input value  
      string-input-value: ["foo", "Bar", "BAZ", "1234", "a,b,c", "1", "2", "3", "a/b/c", "a'b'c"]
      # Make implicit runtime exceptions explicit.
      throw-runtime-exceptions: false
      # Set an upper bound on loop unwinding.
      unwind: 2
      # Do not test any methods that have the specified access level.
      do-not-test-methods-with-access: [ private ]
      # Instrument the entry point function only.
      cover-function-only: false
      # instrument the file as opposed to the function only
      cover-only: file
  -
  #Phase 2 Simple and Private Directly
    timeout: 180
    cbmcArguments:
      # Use simple models containers (ArrayList, HashMap, HashSet,...) will have a maximum size of one.
      classpath: '/tools/cbmc/models-simple-overlay.jar:/tools/cbmc/models.jar:.'
      # Set a limit on the number of instructions that can be generated as part of a test trace.
      depth: 1500
      # never initialize reference-typed parameter to the entry point with null
      java-assume-inputs-non-null: true
      # Constrain the size of arrays created in the analyzed code.
      java-max-vla-length: 10000
      # Maximum allowed length for an array passed as test input.
      max-nondet-array-length: 10
      # Bound the length of input strings.
      max-nondet-string-length: 10
      # Add constraint that strings are printable
      string-printable: true
      # Make implicit runtime exceptions explicit.
      throw-runtime-exceptions: false
      # Set an upper bound on loop unwinding.
      unwind: 1
      # Set string input value  
      string-input-value: ["foo", "Bar", "BAZ", "1234", "a,b,c", "1", "2", "3", "a/b/c", "a'b'c"]
      # If the logs contain output of the following then proceed to phase X
    nextPhase:
      # If the function is not analysable then do not pass onto the next phase
      not_analyzed: null
  -
  #Phase 3 Complex and Private Directly
    timeout: 180
    cbmcArguments:
      # Use the standard models library.
      classpath: '/tools/cbmc/models.jar:.'
      # Set a limit on the number of instructions that can be generated as part of a test trace.
      depth: 3000
      # Constrain the size of arrays created in the analyzed code.
      java-max-vla-length: 10000
      # Maximum allowed length for an array passed as test input.
      max-nondet-array-length: 30
      # Bound the length of input strings.
      max-nondet-string-length: 30
      # Make implicit runtime exceptions explicit.
      throw-runtime-exceptions: false
      # Set an upper bound on loop unwinding.
      unwind: 3
      # Set string input value  
      string-input-value: ["foo", "Bar", "BAZ", "1234", "a,b,c", "1", "2", "3", "a/b/c", "a'b'c"]
  -
  #Phase 4 EXCEPTIONS
    timeout: 180
    cbmcArguments:
      # Use the standard models library.
      classpath: '/tools/cbmc/models.jar:.'
      # Set a limit on the number of instructions that can be generated as part of a test trace.
      depth: false
      # Constrain the size of arrays created in the analyzed code.
      java-max-vla-length: 10000
      # Maximum allowed length for an array passed as test input.
      max-nondet-array-length: 30
      # Bound the length of input strings.
      max-nondet-string-length: 30
      # Add constraint that strings are printable
      string-printable: false
      # Make implicit runtime exceptions explicit.
      throw-runtime-exceptions: true
      # Set an upper bound on loop unwinding.
  -
    #PHASE 5 Big numbers and less contraints on inputs 
    timeout: 300
    cbmcArguments:
      # Use the standard models library.
      classpath: '/tools/cbmc/models.jar:.'
      # Set a limit on the number of instructions that can be generated as part of a test trace.
      depth: false
      # never initialize reference-typed parameter to the entry point with null
      java-assume-inputs-non-null: false
      # Constrain the size of arrays created in the analyzed code.
      java-max-vla-length: 10000
      # Maximum allowed length for an array passed as test input.
      max-nondet-array-length: 100
      # Bound the length of input strings.
      max-nondet-string-length: 100
      # Add constraint that strings are printable
      string-printable: false
      # Make implicit runtime exceptions explicit.
      throw-runtime-exceptions: false
      # Set an upper bound on loop unwinding.
      unwind: 6
units:
#Target TGF: 370.810710749
# - methods: 76
# - complexity: 2059
# - construction: 19.3148119854
# - dependency: 23.85
  - target:
    - dir: jraft-core/target/classes
      file: com/alipay/sofa/jraft/core/Replicator.class
      sourceDir: jraft-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/core/Replicator.java
#Target TGF: 644.0
# - methods: 19
# - complexity: 1162
# - construction: 16.0
# - dependency: 10.0
  - target:
    - dir: jraft-rheakv/rheakv-core/target/classes
      file: com/alipay/sofa/jraft/rhea/util/internal/UnsafeDirectBufferUtil.class
      sourceDir: jraft-rheakv/rheakv-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/rhea/util/internal/UnsafeDirectBufferUtil.java
#Target TGF: 371.460897436
# - methods: 72
# - complexity: 1089
# - construction: 21.7705128205
# - dependency: 24.95
  - target:
    - dir: jraft-core/target/classes
      file: com/alipay/sofa/jraft/rpc/RpcRequests$RequestVoteRequest.class
      sourceDir: jraft-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/rpc/RpcRequests.java
#Target TGF: 403.435363248
# - methods: 120
# - complexity: 1572
# - construction: 32.4769230769
# - dependency: 44.6666666667
  - target:
    - dir: jraft-core/target/classes
      file: com/alipay/sofa/jraft/rpc/RpcRequests$AppendEntriesRequest$Builder.class
      sourceDir: jraft-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/rpc/RpcRequests.java
#Target TGF: 464.266666667
# - methods: 41
# - complexity: 1045
# - construction: 31.8333333333
# - dependency: 24.8666666667
  - target:
    - dir: jraft-rheakv/rheakv-core/target/classes
      file: com/alipay/sofa/jraft/rhea/serialization/impl/protostuff/io/UnsafeNioBufInput.class
      sourceDir: jraft-rheakv/rheakv-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/rhea/serialization/impl/protostuff/io/UnsafeNioBufInput.java
#Target TGF: 847.75
# - methods: 65
# - complexity: 881
# - construction: 57.0
# - dependency: 55.25
  - target:
    - dir: jraft-core/target/classes
      file: com/alipay/sofa/jraft/util/internal/UnsafeUtil.class
      sourceDir: jraft-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/util/internal/UnsafeUtil.java
#Target TGF: 417.0
# - methods: 11
# - complexity: 448
# - construction: 11.0
# - dependency: 8.5
  - target:
    - dir: jraft-core/target/classes
      file: com/alipay/sofa/jraft/util/Bits.class
      sourceDir: jraft-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/util/Bits.java
#Target TGF: 395.116849817
# - methods: 83
# - complexity: 1300
# - construction: 24.4371794872
# - dependency: 27.2095238095
  - target:
    - dir: jraft-core/target/classes
      file: com/alipay/sofa/jraft/rpc/RpcRequests$AppendEntriesRequest.class
      sourceDir: jraft-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/rpc/RpcRequests.java
#Target TGF: 1023.33333333
# - methods: 142
# - complexity: 1677
# - construction: 65.6666666667
# - dependency: 65.1666666667
  - target:
    - dir: jraft-rheakv/rheakv-core/target/classes
      file: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore.class
      sourceDir: jraft-rheakv/rheakv-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore.java
#Target TGF: 504.488888889
# - methods: 39
# - complexity: 1152
# - construction: 31.8333333333
# - dependency: 24.7
  - target:
    - dir: jraft-rheakv/rheakv-core/target/classes
      file: com/alipay/sofa/jraft/rhea/serialization/impl/protostuff/io/NioBufInput.class
      sourceDir: jraft-rheakv/rheakv-core/src/main/java
      sourceFile: com/alipay/sofa/jraft/rhea/serialization/impl/protostuff/io/NioBufInput.java
dependenciesOnClasspath:
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/ScanRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/NodeImpl.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/util/concurrent/disruptor/TaskDispatcher.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/entity/RaftOutter$EntryMeta.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/util/StackTraceUtil.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore$1.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultDistributedLock.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaIterator.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/failover/impl/ListFailoverFuture.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$RpcResponse.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/internal/UnsafeUtil.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/storage/KVStoreStateMachine.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/Utils.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$AppendEntriesRequest$Builder.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$AppendEntriesRequest$1.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$RequestVoteRequest$Builder.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/util/Strings.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/closure/CatchUpClosure.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/PutIfAbsentRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/storage/SnapshotStorage.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/pd/PlacementDriverClient.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/KeyUnlockRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/error/RaftError.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$RequestVoteRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$ReplicatorMetricSet.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$InstallSnapshotResponse.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/TimerManager.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$InstallSnapshotRequest$Builder.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/RheaKVRpcService.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/storage/snapshot/SnapshotReader.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/errors/RheaRuntimeException.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/NodeExecuteRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/BallotBox.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$5.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$4.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$1.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/options/PlacementDriverOptions.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$3.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$2.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/storage/RawKVStore.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/ThreadId.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$TimeoutNowRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/options/BatchingOptions.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$Inflight.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/util/concurrent/NamedThreadFactory.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore$KeyEvent.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$AppendEntriesRequestOrBuilder.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore$PutBatchingHandler.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/util/concurrent/disruptor/Dispatcher.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RaftClientService.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/errors/ErrorsHelper.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/ResetSequenceRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/util/internal/UnsafeDirectBufferUtil.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/serialization/impl/protostuff/io/UnsafeNioBufInput.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore$GetBatching.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/internal/UnsafeUtf8Util.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/option/ReplicatorOptions.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/FutureGroup.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/PutRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/failover/impl/FailoverClosureImpl.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/entity/RaftOutter$EntryMeta$Builder.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/GetRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/pd/FakePlacementDriverClient.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/failover/impl/BoolFailoverFuture.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$TimeoutNowRequest$Builder.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/storage/LogManager.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/storage/BatchRawKVStore.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/GetAndPutRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/failover/impl/MapFailoverFuture.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/entity/LogId.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/Requires.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/RouteTable.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/pd/RemotePlacementDriverClient.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/entity/LogEntry.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/metadata/Region.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/storage/KVStoreClosure.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/DeleteRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/error/RaftException.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$TimeoutNowResponse.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/storage/Sequence.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/DeleteRangeRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/RegionEngine.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/entity/RaftOutter$SnapshotMeta.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/GetSequenceRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/JRaftHelper.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/StoreEngine.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore$KVEvent.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/entity/PeerId.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/storage/KVEntry.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/util/Lists.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/serialization/impl/protostuff/io/NioBufInput.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$RequestVoteRequestOrBuilder.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/metadata/RegionEpoch.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$RequestVoteRequest$1.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/Status.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/ByteBufferCollector.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/MergeRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$RequestType.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/BatchPutRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/Replicator$Stat.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/util/ThrowUtil.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$AppendEntriesRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/internal/UnsafeUtil$UnsafeAccessor.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/MultiGetRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/cmd/store/KeyLockRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/errors/ApiExceptionHelper.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore$PutBatching.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/Bits.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/RheaKVStore.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$InstallSnapshotRequest.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/options/StoreEngineOptions.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/BytesUtil.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rpc/RpcRequests$AppendEntriesResponse.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/util/ThreadId$OnError.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/util/concurrent/AffinityNamedThreadFactory.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/options/RheaKVStoreOptions.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/rpc/ExtSerializerSupports.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/core/NodeMetrics.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/FutureHelper.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/option/RaftOptions.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/errors/Errors.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/serialization/impl/protostuff/io/ProtocolException.class
-
  source: classes
  classFile: com/alipay/sofa/jraft/rhea/client/DefaultRheaKVStore$GetBatchingHandler.class
-
  source: classes
  classFile: com/google/protobuf/ZeroByteStringHelper.class